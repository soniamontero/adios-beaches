<h1>Experiences#show</h1>
<p>Find me in app/views/experiences/show.html.erb</p>
<%= @experience.name %>

<%= link_to 'Back', experiences_path %>

<!-- Statement for done button on experience -->
<% if current_user.has_done?(@experience) %>
  <%= link_to 'Undo', done_path(Done.where(experience_id: @experience.id, user_id: current_user.id).first, redirect_to: 'show'), method: :delete  %>
  <br>
<% else %>
  <%= simple_form_for [@experience, @done] do |f| %>
    <%= f.button :button, 'Done', type: 'submit', name: 'redirect_to', value: 'show' %>
  <% end %>
<% end %>
<!-- End of statement for done button on experience -->

<!-- Statement for favorite button on experience -->
<% if current_user.has_favorite?(@experience) %>
  <%= link_to 'Unfavorite', favorite_path(Favorite.where(experience_id: @experience.id, user_id: current_user.id).first, redirect_to: 'show'), method: :delete  %>
  <br>
<% else %>
  <%= simple_form_for [@experience, @favorite] do |f| %>
    <%= f.button :button, 'Favorite', type: 'submit', name: 'redirect_to', value: 'show' %>
  <% end %>
<% end %>
<!-- End of statement for favorite button on experience -->

<!-- Start statement for vote button on experience -->
  <!-- VOTE + UPVOTE -->
  <% if current_user.has_voted?(@experience) && current_user.has_upvoted?(@experience) %>
    <%= link_to 'Cancel upvote', vote_path(Vote.where(experience_id: @experience.id, user_id: current_user.id).first, redirect_to: 'show'), method: :delete  %>
    <%= link_to 'Downvote', vote_path(Vote.where(experience_id: @experience.id, user_id: current_user.id).first, redirect_to: 'show'), method: :put  %>

  <!-- VOTE + DOWNVOTE -->
  <% elsif current_user.has_voted?(@experience) && current_user.has_downvoted?(@experience) %>
    <%= link_to 'Upvote', vote_path(Vote.where(experience_id: @experience.id, user_id: current_user.id).first, redirect_to: 'show'), method: :put  %>
    <%= link_to 'Cancel downvote', vote_path(Vote.where(experience_id: @experience.id, user_id: current_user.id).first, redirect_to: 'show'), method: :delete  %>

  <!-- NO VOTE -->
  <% else %>
    <%= simple_form_for [@experience, Vote.new] do |f| %>
      <%= hidden_field_tag(:value, 1) %>
      <%= f.button :button, 'upvote', type: 'submit', name: 'redirect_to', value: 'show' %>
    <% end %>
    <%= simple_form_for [@experience, Vote.new] do |f| %>
      <%= hidden_field_tag(:value, -1) %>
      <%= f.button :button, 'downvote', type: 'submit', name: 'redirect_to', value: 'show' %>
    <% end %>
  <% end %>
<!-- End statement for vote button on experience -->
